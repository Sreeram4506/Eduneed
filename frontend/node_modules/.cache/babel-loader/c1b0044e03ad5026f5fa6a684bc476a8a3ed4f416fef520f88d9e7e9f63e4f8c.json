{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SREER\\\\OneDrive\\\\Desktop\\\\Desktop\\\\openai\\\\student-file-sharing\\\\frontend\\\\src\\\\pages\\\\BrowsePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../utils/api';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BrowsePage() {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [search, setSearch] = useState('');\n  const [subjectFilter, setSubjectFilter] = useState('');\n  const [uploaderFilter, setUploaderFilter] = useState('');\n  const [dateFilter, setDateFilter] = useState('');\n  const subjects = ['Math', 'Physics', 'Chemistry', 'Biology', 'English'];\n  useEffect(() => {\n    fetchFiles();\n  }, [search, subjectFilter, uploaderFilter, dateFilter]);\n  const fetchFiles = async () => {\n    try {\n      const params = {};\n      if (search) params.search = search;\n      if (subjectFilter) params.subject = subjectFilter;\n      if (uploaderFilter) params.uploader = uploaderFilter;\n      if (dateFilter) params.date = dateFilter;\n      const response = await api.get('/api/files', {\n        params\n      });\n      setFiles(response.data);\n    } catch (err) {\n      console.error('Failed to fetch files', err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Browse Files\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search by title or description\",\n        value: search,\n        onChange: e => setSearch(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: subjectFilter,\n        onChange: e => setSubjectFilter(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Subjects\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), subjects.map(sub => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: sub,\n          children: sub\n        }, sub, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Filter by uploader\",\n        value: uploaderFilter,\n        onChange: e => setUploaderFilter(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: dateFilter,\n        onChange: e => setDateFilter(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(3, 1fr)',\n        gap: '10px'\n      },\n      children: files.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #ccc',\n          padding: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/files/${file._id}`,\n            children: file.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Subject: \", file.subject]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Uploader: \", file.uploaderName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Uploaded: \", new Date(file.uploadDate).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `/api/files/${file._id}/download`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, file._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(BrowsePage, \"xh5yR4lHRDEAtEkqZWzdCH/Fblk=\");\n_c = BrowsePage;\nexport default BrowsePage;\nvar _c;\n$RefreshReg$(_c, \"BrowsePage\");","map":{"version":3,"names":["React","useState","useEffect","api","Link","jsxDEV","_jsxDEV","BrowsePage","_s","files","setFiles","search","setSearch","subjectFilter","setSubjectFilter","uploaderFilter","setUploaderFilter","dateFilter","setDateFilter","subjects","fetchFiles","params","subject","uploader","date","response","get","data","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","map","sub","style","display","gridTemplateColumns","gap","file","border","padding","to","_id","title","uploaderName","Date","uploadDate","toLocaleDateString","href","rel","_c","$RefreshReg$"],"sources":["C:/Users/SREER/OneDrive/Desktop/Desktop/openai/student-file-sharing/frontend/src/pages/BrowsePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../utils/api';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction BrowsePage() {\r\n  const [files, setFiles] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [subjectFilter, setSubjectFilter] = useState('');\r\n  const [uploaderFilter, setUploaderFilter] = useState('');\r\n  const [dateFilter, setDateFilter] = useState('');\r\n\r\n  const subjects = ['Math', 'Physics', 'Chemistry', 'Biology', 'English'];\r\n\r\n  useEffect(() => {\r\n    fetchFiles();\r\n  }, [search, subjectFilter, uploaderFilter, dateFilter]);\r\n\r\n  const fetchFiles = async () => {\r\n    try {\r\n      const params = {};\r\n      if (search) params.search = search;\r\n      if (subjectFilter) params.subject = subjectFilter;\r\n      if (uploaderFilter) params.uploader = uploaderFilter;\r\n      if (dateFilter) params.date = dateFilter;\r\n\r\n      const response = await api.get('/api/files', { params });\r\n      setFiles(response.data);\r\n    } catch (err) {\r\n      console.error('Failed to fetch files', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Browse Files</h2>\r\n      <div>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by title or description\"\r\n          value={search}\r\n          onChange={e => setSearch(e.target.value)}\r\n        />\r\n        <select value={subjectFilter} onChange={e => setSubjectFilter(e.target.value)}>\r\n          <option value=\"\">All Subjects</option>\r\n          {subjects.map(sub => (\r\n            <option key={sub} value={sub}>{sub}</option>\r\n          ))}\r\n        </select>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Filter by uploader\"\r\n          value={uploaderFilter}\r\n          onChange={e => setUploaderFilter(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          value={dateFilter}\r\n          onChange={e => setDateFilter(e.target.value)}\r\n        />\r\n      </div>\r\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '10px' }}>\r\n        {files.map(file => (\r\n          <div key={file._id} style={{ border: '1px solid #ccc', padding: '10px' }}>\r\n            <h3><Link to={`/files/${file._id}`}>{file.title}</Link></h3>\r\n            <p>Subject: {file.subject}</p>\r\n            <p>Uploader: {file.uploaderName}</p>\r\n            <p>Uploaded: {new Date(file.uploadDate).toLocaleDateString()}</p>\r\n            <a href={`/api/files/${file._id}/download`} target=\"_blank\" rel=\"noopener noreferrer\">Download</a>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BrowsePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}